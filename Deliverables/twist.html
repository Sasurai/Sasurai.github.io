<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >
		<title>Twisted polygons deliverable</title>

		<script id="vertex-shader" type="x-shader/x-vertex">
			attribute vec4 vPosition;
			uniform float theta;

			void
			main()
			{
				// Apply twist
				float x = vPosition.x;
				float y = vPosition.y;
				float rot = sqrt(x*x + y*y)*theta;
				float s = sin(rot);
				float c = cos(rot);

				gl_Position.x = x * c - y * s;
			    gl_Position.y = x * s + y * c;
			    gl_Position.z = vPosition.z;
			    gl_Position.w = vPosition.w;
			}
		</script>

		<script id="fragment-shader" type="x-shader/x-fragment">
			precision mediump float;

			void
			main()
			{
				// Nice color gradient depending on fragment position
			    float x = gl_FragCoord[0]/512.0;
				float y = gl_FragCoord[1]/512.0;
				
				float r = 0.8*(1.0 - (x - y));
				float g = 0.8*(1.0 - (y - x));
				float b = 1.0*(1.0 - max(x,y));

			    gl_FragColor = vec4(r, g, b, 1.0);
			}
		</script>

		<script type="text/javascript" src="../Common/webgl-utils.js"></script>
		<script type="text/javascript" src="../Common/initShaders.js"></script>
		<script type="text/javascript" src="../Common/MV.js"></script>
		<script type="text/javascript" src="../Common/myUtils.js"></script>
		<script type="text/javascript" src="twist.js"></script>
	</head>   

	<body>
		<div>
			Twist amount 0 <input id="slider" type="range"
	 		min="0" max="25" step="1" value="0" />
			  25
		</div>
		<div>
			Tessellation level 1 <input id="sliderTess" type="range"
	 		min="1" max="8" step="1" value="1" />
			  8
		</div>
		<select id="polygonType" size="3">
		    <option value="0">Triangle</option>
		    <option value="1">Square</option>
		    <option value="2">Funky polygon</option>
		</select>
		<canvas id="gl-canvas" width="512" height="512">
		Oops ... your browser doesn't support the HTML5 canvas element
		</canvas>
		<h2> Deliverable for the "Interactive Computer Graphics with WebGL" at coursera.org</h2>
		<h2>    Jorge Mart√≠nez, 10/07/2015 </h2>
	</body>
</html>
